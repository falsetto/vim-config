set nocompatible
filetype off

set rtp+=~/.vim/bundle/vundle/
call vundle#rc()
Bundle 'gmarik/vundle'

" auto-reload vimrc after edits
autocmd! bufwritepost ~/.vim/dotfiles/vimrc source %

" global config
let mapleader = ","
set backspace=eol,indent,start
set backupdir=~/.vim/backup
set directory=~/.vim/backup
set encoding=utf-8
set gdefault
set hlsearch
set incsearch
set invmmta
set linebreak
set number
set relativenumber
set ruler
set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*.so

" abbreviations
ab rbb '#!/usr/bin/env ruby'

" custom mappings
inoremap <D-'> ="
" " force me to re-learn the mapping
inoremap =" <nop>
inoremap <C-Return> <CR><CR><C-o>k<C-t>
inoremap jj <ESC>
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l
nnoremap <leader><space> :noh<cr>
nnoremap <leader>ev <C-w><C-v><C-l>:e $MYVIMRC<cr>
nnoremap <leader>w <C-w>v<C-w>l
nnoremap <Leader><S-s> :w !sudo tee %<Return>
nnoremap <Leader>t :tag 
" " navigate screen lines, rather than literal lines
nnoremap j gj
nnoremap k gk
" " disable arrow keys
nnoremap <up> <nop>
nnoremap <down> <nop>
nnoremap <left> <nop>
nnoremap <right> <nop>
inoremap <up> <nop>
inoremap <down> <nop>
inoremap <left> <nop>
inoremap <right> <nop>

" indenting
autocmd FileType html setlocal shiftwidth=4 tabstop=4
autocmd FileType coffee setlocal shiftwidth=4 tabstop=4
autocmd FileType javascript setlocal shiftwidth=4 tabstop=4
autocmd FileType php setlocal shiftwidth=4 tabstop=4

" bundles
Bundle 'Lokaltog/vim-easymotion'
Bundle 'kchmck/vim-coffee-script'
Bundle 'altercation/vim-colors-solarized'
Bundle 'chrismetcalf/vim-yankring'
Bundle 'falsetto/vim-onlinedoc'
Bundle 'joestelmach/javaScriptLint.vim'
Bundle 'kana/vim-scratch'
Bundle 'kien/ctrlp.vim'
Bundle 'majutsushi/tagbar'
Bundle 'mikewest/vimroom'
Bundle 'mileszs/ack.vim'
Bundle 'msanders/snipmate.vim'
Bundle 'nathanaelkane/vim-command-w'
Bundle 'pangloss/vim-javascript'
Bundle 'scrooloose/syntastic'
Bundle 'tomtom/tcomment_vim'
Bundle 'tpope/vim-endwise'
Bundle 'tpope/vim-surround'
Bundle 'tpope/vim-unimpaired'
Bundle 'tsaleh/vim-align'
Bundle 'vim-scripts/ReplaceWithRegister'
Bundle 'vim-scripts/ZoomWin'
Bundle 'vim-scripts/bufkill.vim'

" ctags
map <Leader>rt :!ctags --extra=+f -R *<CR><CR>
map <C-\> :tnext<CR>

" ctrl-p
let g:ctrlp_working_path_mode = 0

" easymotion
let g:EasyMotion_mapping_f = '\f'
let g:EasyMotion_mapping_t = '\t'
let g:EasyMotion_mapping_w = 'ff'
hi link EasyMotionTarget Error

" javascriptlint
  let jslint_command_options = '-conf ~/.vim/conf/jsl.conf -nofilelisting -nocontext -nosummary -nologo -process'

" solarized
set background=light
colorscheme solarized

" syntastic
let g:syntastic_enable_signs=1
let g:syntastic_quiet_warnings=1

" vimroom
let g:vimroom_guibackground = "#fdf6e3"
let g:vimroom_ctermbackground = 15

" zoomwin
map \\ :ZoomWin<CR>

syntax enable
filetype plugin indent on
