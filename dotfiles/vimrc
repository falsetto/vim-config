set nocompatible
filetype off

set rtp+=~/.vim/bundle/vundle/
call vundle#rc()

" auto-reload vimrc after edits
autocmd! bufwritepost ~/.vim/dotfiles/vimrc source %

" global config
let mapleader = ","
let &t_SI = "\<Esc>]50;CursorShape=1\x7"
let &t_EI = "\<Esc>]50;CursorShape=0\x7"
set backspace=eol,indent,start
set backupdir=~/.vim/backup
set directory=~/.vim/backup
set encoding=utf-8
set gdefault
set hlsearch
set incsearch
set linebreak
set number
set relativenumber
set ruler
set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*.so

" abbreviations
ab rbb #!/usr/bin/env ruby
ab rdb require 'debugger'; debugger
ab gnte '%!grep "Kiosk\|NTE" -u'

" custom mappings
inoremap <D-'> ="
" " force me to re-learn the mapping
inoremap <C-l> <space>=><space>
inoremap <C-Return> <CR><CR><C-o>k<C-t>
inoremap jj <ESC>
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l
nnoremap <leader><space> :noh<cr>
nnoremap <leader>ev <C-w><C-v><C-l>:e $MYVIMRC<cr>
nnoremap <leader>ej <C-w><C-v><C-l>:e ~/.vim/conf/jsl.conf<cr>
nnoremap <leader>w <C-w>v<C-w>l
nnoremap <Leader><S-s> :w !sudo tee %<Return>
nnoremap <Leader>t :tag 
" " navigate screen lines, rather than literal lines
nnoremap j gj
nnoremap k gk
" " disable arrow keys
nnoremap <up> <nop>
nnoremap <down> <nop>
nnoremap <left> <nop>
nnoremap <right> <nop>
inoremap <up> <nop>
inoremap <down> <nop>
inoremap <left> <nop>
inoremap <right> <nop>

" indenting
autocmd FileType html setlocal shiftwidth=4 tabstop=4
autocmd FileType coffee setlocal shiftwidth=4 tabstop=4
autocmd FileType javascript setlocal shiftwidth=4 tabstop=4
autocmd FileType objc setlocal shiftwidth=4 tabstop=4
autocmd FileType php setlocal shiftwidth=4 tabstop=4
autocmd FileType ruby setlocal shiftwidth=2 tabstop=2 expandtab

" bundles
"Bundle 'git://github.com/Lokaltog/vim-easymotion.git'
"Bundle 'git://github.com/altercation/vim-colors-solarized.git'
"Bundle 'git://github.com/astashov/vim-ruby-debugger.git'
"Bundle 'git://github.com/behaghel/Rainbow_Parenthsis_Bundle.git'
"Bundle 'git://github.com/chrismetcalf/vim-yankring.git'
"Bundle 'git://github.com/falsetto/vim-onlinedoc.git'
"Bundle 'git://github.com/gregsexton/gitv.git'
"Bundle 'git://github.com/kien/ctrlp.vim.git'
"Bundle 'git://github.com/tpope/vim-unimpaired.git'
"Bundle 'git://github.com/tsaleh/vim-align.git'
"Bundle 'git://github.com/vim-ruby/vim-ruby.git'
"Bundle 'git://github.com/vim-scripts/ReplaceWithRegister.git'
"Bundle 'git://github.com/vim-scripts/ZoomWin.git'
"Bundle 'git://github.com/vim-scripts/bufkill.vim.git'
"Bundle 'git://github.com/vim-scripts/kkruby.vim.git'
Bundle 'git://github.com/Lokaltog/vim-easymotion.git'
Bundle 'git://github.com/altercation/vim-colors-solarized.git'
Bundle 'git://github.com/astashov/vim-ruby-debugger.git'
Bundle 'git://github.com/behaghel/Rainbow_Parenthsis_Bundle.git'
Bundle 'git://github.com/chrismetcalf/vim-yankring.git'
Bundle 'git://github.com/falsetto/vim-onlinedoc.git'
Bundle 'git://github.com/gregsexton/gitv.git'
Bundle 'git://github.com/joestelmach/javaScriptLint.vim.git'
Bundle 'git://github.com/juvenn/mustache.vim.git'
Bundle 'git://github.com/kana/vim-scratch.git'
Bundle 'git://github.com/kana/vim-smartinput.git'
Bundle 'git://github.com/kchmck/vim-coffee-script.git'
Bundle 'git://github.com/kien/ctrlp.vim.git'
Bundle 'git://github.com/majutsushi/tagbar.git'
Bundle 'git://github.com/mikewest/vimroom.git'
Bundle 'git://github.com/mileszs/ack.vim.git'
Bundle 'git://github.com/msanders/snipmate.vim.git'
Bundle 'git://github.com/nathanaelkane/vim-command-w.git'
Bundle 'git://github.com/pangloss/vim-javascript.git'
Bundle 'git://github.com/rson/vim-conque.git'
Bundle 'git://github.com/scrooloose/syntastic.git'
Bundle 'git://github.com/stephenprater/cocoa.vim.git'
Bundle 'git://github.com/taxilian/VimDebugger.git'
Bundle 'git://github.com/tomtom/tcomment_vim.git'
Bundle 'git://github.com/tpope/vim-endwise.git'
Bundle 'git://github.com/tpope/vim-fugitive.git'
Bundle 'git://github.com/tpope/vim-repeat.git'
Bundle 'git://github.com/tpope/vim-surround.git'
Bundle 'git://github.com/tpope/vim-unimpaired.git'
Bundle 'git://github.com/tsaleh/vim-align.git'
Bundle 'git://github.com/vim-ruby/vim-ruby.git'
Bundle 'git://github.com/vim-scripts/ReplaceWithRegister.git'
Bundle 'git://github.com/vim-scripts/ZoomWin.git'
Bundle 'git://github.com/vim-scripts/bufkill.vim.git'
Bundle 'git://github.com/vim-scripts/kkruby.vim.git'

" clipboard
set clipboard=unnamed

" ctags
map <Leader>rt :!ctags --extra=+f -R *<CR><CR>
map <C-\> :tnext<CR>

" ctrl-p
let g:ctrlp_working_path_mode = 0
let g:ctrlp_jump_to_buffer = 1
let g:ctrlp_use_caching = 0
" let g:ctrlp_clear_cache_on_exit = 1
let g:ctrlp_max_depth = 6
let g:ctrlp_dont_split = 'netrw'
" let g:ctrlp_extensions = ['tag']
" nnoremap <C-[> :CtrlPTag<cr>

" easymotion
let g:EasyMotion_mapping_f = '\f'
let g:EasyMotion_mapping_t = '\t'
let g:EasyMotion_mapping_w = 'ff'
hi link EasyMotionTarget Error

" javascriptlint
let jslint_command_options = '-conf ~/.vim/conf/jsl.conf -nofilelisting -nocontext -nosummary -nologo -process'

" ruby-debugger
let g:ruby_debugger_progname = 'mvim'

" solarized
set background=light
colorscheme solarized

" syntastic
let g:syntastic_enable_signs=1
let g:syntastic_quiet_warnings=1

" vimroom
let g:vimroom_guibackground = "#fdf6e3"
let g:vimroom_ctermbackground = 15

" zoomwin
map \\ :ZoomWin<CR>

syntax enable
filetype plugin indent on
